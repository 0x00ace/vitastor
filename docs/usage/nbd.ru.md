[Документация](../../README-ru.md#документация) → Использование → NBD

-----

[Read in English](nbd.en.md)

# NBD

NBD расшифровывается как "сетевое блочное устройство", но на самом деле оно также
работает просто как аналог FUSE для блочных устройств, то есть, представляет собой
"блочное устройство в пространстве пользователя".

NBD на данный момент необходимо, чтобы монтировать диски Vitastor ядром Linux.
NBD немного снижает производительность из-за дополнительных копирований памяти,
но она всё равно остаётся на неплохом уровне (см. для примера [тест](../performance/comparison1.ru.md#vitastor-0-4-0-nbd)).

CSI-драйвер Kubernetes Vitastor основан на NBD.

## Подключить устройство

Чтобы создать локальное блочное устройство для образа, выполните команду:

```
vitastor-nbd map --etcd_address 10.115.0.10:2379/v3 --image testimg
```

Команда напечатает название блочного устройства вида /dev/nbd0, которое потом можно
будет использовать как обычный диск.

Для обращения по номеру инода, аналогично другим командам, можно использовать опции
`--pool <POOL> --inode <INODE> --size <SIZE>` вместо `--image testimg`.

## Отключить устройство

Для отключения устройства выполните:

```
vitastor-nbd unmap /dev/nbd0
```
